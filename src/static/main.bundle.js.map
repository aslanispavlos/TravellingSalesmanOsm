{"version":3,"sources":["./src/$_lazy_route_resource lazy","./src/app/app.component.css","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/map/map.component.css","./src/app/map/map.component.html","./src/app/map/map.component.ts","./src/app/services/data.service.ts","./src/app/services/map.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_lazy_route_resource lazy\n// module id = ./src/$$_lazy_route_resource lazy recursive\n// module chunks = main","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = ./src/app/app.component.css\n// module chunks = main","module.exports = \"            <app-map #MapComponent (PointChanged) =\\\"pointChanged()\\\"></app-map>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = ./src/app/app.component.html\n// module chunks = main","import { Component, Directive, ViewChild } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'app';\n    @ViewChild('MapComponent') map\n    @ViewChild('ControlComponent') control\n\n    calculateRoute(data){\n        this.map.calculateRoute(data);\n    }\n\n    pointChanged(){\n        this.control.pointChanged();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport {HttpModule} from '@angular/http'\nimport { HttpClientModule } from '@angular/common/http';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppComponent } from './app.component';\nimport { MapComponent } from './map/map.component';\n\n// Services\nimport { DataService } from './services/data.service';\nimport { MapService } from './services/map.service';\n\nimport {BusyModule} from 'angular2-busy';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    MapComponent,\n  ],\n  imports: [\n      BrowserModule,\n      HttpModule,\n      HttpClientModule,\n      FormsModule,\n      BrowserAnimationsModule,\n      BusyModule\n  ],\n    providers: [\n        DataService,\n        MapService\n    ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","module.exports = \".map{\\n    width: 100%;\\n    height:100vh;\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/map.component.css\n// module id = ./src/app/map/map.component.css\n// module chunks = main","module.exports = \"\\n\\n<div class=\\\"container-fluid\\\">\\n    <div class=\\\"row\\\" style=\\\"height:auto\\\">\\n<div class=\\\"col-md-2\\\">\\n<nav class=\\\"navbar navbar-light\\\" style=\\\"background-color: #e3f2fd;\\\">\\n    <a class=\\\"navbar-brand\\\">Fapra</a>\\n        <form >\\n          <input [(ngModel)]=\\\"srcNode\\\" class=\\\"form-control\\\" type=\\\"text\\\"\\n                 placeholder=\\\"Enter startnode\\\" name=\\\"StartNode\\\">\\n          <input [(ngModel)]=\\\"trgNode\\\"class=\\\"form-control\\\" type=\\\"text\\\"\\n                 placeholder=\\\"Enter targetnode\\\" name=\\\"TargetNode\\\">\\n        </form>\\n\\n        <button class=\\\"btn btn-success\\\" (click)=\\\"onClick()\\\">Search</button>\\n</nav>\\n</div>\\n<div class=\\\"col\\\">\\n    <div class=\\\"map\\\" id=\\\"map\\\"></div>\\n</div>\\n    </div>\\n</div>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/map.component.html\n// module id = ./src/app/map/map.component.html\n// module chunks = main","import { Component, OnInit, EventEmitter, Output } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { DataService } from '../services/data.service';\nimport { MapService } from '../services/map.service';\nimport { Subscription } from 'rxjs';\nimport OlMap from 'ol/map';\nimport OlOSM from 'ol/source/osm';\nimport OlTileLayer from 'ol/layer/tile';\nimport OlVectorLayer from 'ol/layer/vector';\nimport OlView from 'ol/view';\nimport OlProj from 'ol/proj';\nimport Point from 'ol/geom/point';\nimport Feature from 'ol/feature';\nimport Vector from 'ol/source/vector';\nimport LineString from 'ol/geom/linestring';\nimport Style from 'ol/style/style';\nimport proj from 'ol/proj';\n\nimport Fill from 'ol/style/fill';\nimport Stroke from 'ol/style/stroke';\nimport * as L from 'leaflet';\n@Component({\n    selector: 'app-map',\n    templateUrl: './map.component.html',\n    styleUrls: ['./map.component.css']\n})\nexport class MapComponent implements OnInit {\n    map: OlMap;\n    source: OlOSM;\n    layer: OlTileLayer;\n    view: OlView;\n    vectorLineLayer;\n    vectorSource;\n    srcNode;\n    trgNode;\n\n\n    constructor(private dataService: DataService, private _mapService: MapService) {\n\n    }\n    ngOnInit() {\n        this.source = new OlOSM({\n            crossOrigin: null\n        });\n        this.layer = new OlTileLayer({\n            source: this.source\n        });\n        this.view = new OlView({\n            center: OlProj.fromLonLat([10.447, 51.165]),\n            zoom: 8\n        });\n        this.vectorSource = new Vector({});\n        this.vectorLineLayer = new OlVectorLayer({\n            source: this.vectorSource,\n            style: new Style({\n                fill: new Fill({\n                    color: 'red',\n                    width: 1.2\n                }),\n                stroke: new Stroke({\n                    color: 'red',\n                    width: 3\n                })\n            })\n        });\n        this.map = new OlMap({\n            target: 'map',\n            layers: [this.layer, this.vectorLineLayer],\n            view: this.view\n        });\n\n\n    }\n    onClick() {\n        this.dataService.routeByNodeId(this.srcNode, this.trgNode, (res) => {\n            this.vectorSource.clear();\n            console.log(\"test\");\n            var points = []\n            for (var elem of res.path) {\n                points.push(OlProj.fromLonLat([Number(elem.lon), Number(elem.lat)]));\n            }\n            var lineString = new LineString(points);\n            var featureLine = new Feature({\n                geometry: lineString\n            });\n            console.log(featureLine);\n            this.vectorSource.addFeatures([featureLine]);\n        });\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/map/map.component.ts","import { Injectable } from '@angular/core';\nimport {HttpClient} from \"@angular/common/http\";\n\n@Injectable()\nexport class DataService {\n\n    constructor(private _http: HttpClient){\n\n\n\n    }\n\n    routeByNodeId(srcId, trgId, callback){\n       this._http.post('/routebynodeid', {\"srcNode\": srcId, \"trgNode\": trgId}, {responseType: 'json'}).subscribe((data) =>{\n           callback(data);\n       })\n   }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/data.service.ts","import { Injectable } from '@angular/core';\nimport * as L from 'leaflet'\n\n@Injectable()\nexport class MapService {\n    private Layer=L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {\n        attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n    });\n  constructor() { }\n    private lineStyle = {\n            \"color\": \"#ff7800\",\n            \"weight\": 5,\n            \"opacity\": 0.65\n    };\n\n    getLayer(){\n        return this.Layer\n    }\n\n    getLineStyle(){\n        return this.lineStyle\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/map.service.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts"],"sourceRoot":"webpack:///"}