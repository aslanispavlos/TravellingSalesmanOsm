{"version":3,"sources":["./src/$_lazy_route_resource lazy","./src/app/app.component.css","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/map/map.component.css","./src/app/map/map.component.html","./src/app/map/map.component.ts","./src/app/services/data.service.ts","./src/app/services/map.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,4E;;;;;;;ACVA,mB;;;;;;;ACAA,qG;;;;;;;;;;;;;;;;;;;ACAgE;AAOhE;IALA;QAME,UAAK,GAAG,KAAK,CAAC;IAWhB,CAAC;IAPG,qCAAc,GAAd,UAAe,IAAI;QACf,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;IAED,mCAAY,GAAZ;QACI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;IAChC,CAAC;IAT0B;QAA1B,gEAAS,CAAC,cAAc,CAAC;;6CAAI;IACC;QAA9B,gEAAS,CAAC,kBAAkB,CAAC;;iDAAQ;IAH7B,YAAY;QALxB,gEAAS,CAAC;YACT,QAAQ,EAAE,UAAU;;;SAGrB,CAAC;OACW,YAAY,CAYxB;IAAD,mBAAC;CAAA;AAZwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPiC;AACjB;AACD;AACgB;AACX;AAEE;AACI;AAEnD,WAAW;AAC2C;AACF;AAEX;AACoC;AAqB7E;IAAA;IAAyB,CAAC;IAAb,SAAS;QAnBrB,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,oEAAY;gBACZ,wEAAY;aACb;YACD,OAAO,EAAE;gBACL,gFAAa;gBACb,iEAAU;gBACV,8EAAgB;gBAChB,mEAAW;gBACX,sGAAuB;gBACvB,yDAAU;aACb;YACC,SAAS,EAAE;gBACP,2EAAW;gBACX,yEAAU;aACb;YACH,SAAS,EAAE,CAAC,oEAAY,CAAC;SAC1B,CAAC;OACW,SAAS,CAAI;IAAD,gBAAC;CAAA;AAAJ;;;;;;;;ACnCtB,uBAAuB,kBAAkB,mBAAmB,GAAG,C;;;;;;;ACA/D,qMAAqM,4jB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA7H;AAEjB;AACF;AAE1B;AACO;AACM;AACI;AACf;AACA;AAEI;AACK;AACM;AACT;AAGF;AACI;AAOrC;IAWI,sBAAqB,WAAwB,EAAU,WAAuB;QAAzD,gBAAW,GAAX,WAAW,CAAa;QAAU,gBAAW,GAAX,WAAW,CAAY;IAE9E,CAAC;IAED,+BAAQ,GAAR;QACI,IAAI,CAAC,MAAM,GAAG,IAAI,8DAAK,CAAC;YACpB,WAAW,EAAE,IAAI;SACpB,CAAC,CAAC;QACH,IAAI,CAAC,KAAK,GAAG,IAAI,8DAAW,CAAC;YACzB,MAAM,EAAE,IAAI,CAAC,MAAM;SACtB,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,GAAG,IAAI,wDAAM,CAAC;YACnB,MAAM,EAAE,wDAAM,CAAC,UAAU,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YAC3C,IAAI,EAAE,CAAC;SACV,CAAC,CAAC;QACC,IAAI,CAAC,YAAY,GAAG,IAAI,kEAAM,CAAC,EAAE,CAAC,CAAC;QACnC,IAAI,CAAC,eAAe,GAAG,IAAI,gEAAa,CAAC;YACrC,MAAM,EAAE,IAAI,CAAC,YAAY;YACzB,KAAK,EAAE,IAAI,gEAAK,CAAC;gBACb,IAAI,EAAE,IAAI,+DAAI,CAAC;oBACX,KAAK,EAAE,KAAK;oBACZ,KAAK,EAAE,GAAG;iBACb,CAAC;gBACF,MAAM,EAAE,IAAI,iEAAM,CAAC;oBACf,KAAK,EAAE,KAAK;oBACZ,KAAK,EAAE,CAAC;iBACX,CAAC;aACL,CAAC;SACL,CAAC,CAAC;QACP,IAAI,CAAC,GAAG,GAAG,IAAI,uDAAK,CAAC;YACjB,MAAM,EAAE,KAAK;YACb,MAAM,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC;YAC1C,IAAI,EAAE,IAAI,CAAC,IAAI;SAClB,CAAC,CAAC;QACH,4DAA4D;QAC5D,iDAAiD;IAGrD,CAAC;IACD,8BAAO,GAAP;QAAA,iBAcC;QAbG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAG,UAAC,GAAG;YAC5D,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpB,IAAI,MAAM,GAAG,EAAE;YACf,GAAG,CAAC,CAAa,UAAQ,EAAR,QAAG,CAAC,IAAI,EAAR,cAAQ,EAAR,IAAQ;gBAApB,IAAI,IAAI;gBACT,MAAM,CAAC,IAAI,CAAC,wDAAM,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;aACxE;YACD,IAAI,UAAU,GAAG,IAAI,oEAAU,CAAC,MAAM,CAAC,CAAC;YACxC,IAAI,WAAW,GAAG,IAAI,2DAAO,CAAC;gBAC1B,QAAQ,EAAG,UAAU;aACxB,CAAC,CAAC;YACH,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;YACzB,KAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;IACP,CAAC;IAhEQ,YAAY;QALxB,gEAAS,CAAC;YACT,QAAQ,EAAE,SAAS;;;SAGpB,CAAC;yCAYoC,2EAAW,EAAuB,yEAAU;OAXrE,YAAY,CAmExB;IAAD,mBAAC;CAAA;AAnEwB;;;;;;;;;;;;;;;;;;;;;AC1BkB;AACK;AAGhD;IAEI,qBAAoB,KAAiB;QAAjB,UAAK,GAAL,KAAK,CAAY;IAIrC,CAAC;IAED,mCAAa,GAAb,UAAc,KAAK,EAAE,KAAK,EAAE,QAAQ;QACjC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAgB,EAAE,EAAC,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAC,EAAE,EAAC,YAAY,EAAE,MAAM,EAAC,CAAC,CAAC,SAAS,CAAC,UAAC,IAAI;YAC3G,QAAQ,CAAC,IAAI,CAAC,CAAC;QACnB,CAAC,CAAC;IACN,CAAC;IAZS,WAAW;QADvB,iEAAU,EAAE;yCAGkB,wEAAU;OAF5B,WAAW,CAcvB;IAAD,kBAAC;CAAA;AAduB;;;;;;;;;;;;;;;;;;;;;;ACJmB;AACf;AAG5B;IAIE;QAHU,UAAK,GAAC,kDAAW,CAAC,yCAAyC,EAAE;YACjE,WAAW,EAAE,0EAA0E;SAC1F,CAAC,CAAC;QAEK,cAAS,GAAG;YACZ,OAAO,EAAE,SAAS;YAClB,QAAQ,EAAE,CAAC;YACX,SAAS,EAAE,IAAI;SACtB,CAAC;IALY,CAAC;IAOf,6BAAQ,GAAR;QACI,MAAM,CAAC,IAAI,CAAC,KAAK;IACrB,CAAC;IAED,iCAAY,GAAZ;QACI,MAAM,CAAC,IAAI,CAAC,SAAS;IACzB,CAAC;IAjBQ,UAAU;QADtB,iEAAU,EAAE;;OACA,UAAU,CAkBtB;IAAD,iBAAC;CAAA;AAlBsB;;;;;;;;;ACJvB;AAAA,mFAAmF;AACnF,8FAA8F;AAC9F,yEAAyE;AACzE,gFAAgF;AAEzE,IAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;;;;;;;;;;;;;;ACP6C;AAC4B;AAE9B;AACY;AAEzD,EAAE,CAAC,CAAC,8EAAW,CAAC,UAAU,CAAC,CAAC,CAAC;IAC3B,qEAAc,EAAE,CAAC;AACnB,CAAC;AAED,yGAAsB,EAAE,CAAC,eAAe,CAAC,kEAAS,CAAC;KAChD,KAAK,CAAC,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CAAC,CAAC","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_lazy_route_resource lazy\n// module id = ./src/$$_lazy_route_resource lazy recursive\n// module chunks = main","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = ./src/app/app.component.css\n// module chunks = main","module.exports = \"            <app-map #MapComponent (PointChanged) =\\\"pointChanged()\\\"></app-map>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = ./src/app/app.component.html\n// module chunks = main","import { Component, Directive, ViewChild } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'app';\n    @ViewChild('MapComponent') map\n    @ViewChild('ControlComponent') control\n\n    calculateRoute(data){\n        this.map.calculateRoute(data);\n    }\n\n    pointChanged(){\n        this.control.pointChanged();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport {HttpModule} from '@angular/http'\nimport { HttpClientModule } from '@angular/common/http';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppComponent } from './app.component';\nimport { MapComponent } from './map/map.component';\n\n// Services\nimport { DataService } from './services/data.service';\nimport { MapService } from './services/map.service';\n\nimport {BusyModule} from 'angular2-busy';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    MapComponent,\n  ],\n  imports: [\n      BrowserModule,\n      HttpModule,\n      HttpClientModule,\n      FormsModule,\n      BrowserAnimationsModule,\n      BusyModule\n  ],\n    providers: [\n        DataService,\n        MapService\n    ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","module.exports = \".map{\\n    width: 100%;\\n    height:100vh;\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/map.component.css\n// module id = ./src/app/map/map.component.css\n// module chunks = main","module.exports = \"\\n\\n<div class=\\\"container-fluid\\\">\\n    <div class=\\\"row\\\" style=\\\"height:auto\\\">\\n<div class=\\\"col-md-2\\\">\\n<nav class=\\\"navbar navbar-light\\\" style=\\\"background-color: #e3f2fd;\\\">\\n    <a class=\\\"navbar-brand\\\">Fapra</a>\\n        <form >\\n          <input [(ngModel)]=\\\"srcNode\\\" class=\\\"form-control\\\" type=\\\"text\\\"\\n                 placeholder=\\\"Enter startnode\\\" name=\\\"StartNode\\\">\\n          <input [(ngModel)]=\\\"trgNode\\\"class=\\\"form-control\\\" type=\\\"text\\\"\\n                 placeholder=\\\"Enter targetnode\\\" name=\\\"TargetNode\\\">\\n        </form>\\n\\n        <button class=\\\"btn btn-success\\\" (click)=\\\"onClick()\\\">Search</button>\\n</nav>\\n</div>\\n<div class=\\\"col\\\">\\n    <div class=\\\"map\\\" id=\\\"map\\\"></div>\\n</div>\\n    </div>\\n</div>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/map.component.html\n// module id = ./src/app/map/map.component.html\n// module chunks = main","import { Component, OnInit, EventEmitter, Output } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { DataService } from '../services/data.service';\nimport { MapService } from '../services/map.service';\nimport {Subscription } from 'rxjs';\nimport OlMap from 'ol/map';\nimport OlOSM from 'ol/source/osm';\nimport OlTileLayer from 'ol/layer/tile';\nimport OlVectorLayer from 'ol/layer/vector';\nimport OlView from 'ol/view';\nimport OlProj from 'ol/proj';\nimport Point from 'ol/geom/point';\nimport Feature from 'ol/feature';\nimport Vector from 'ol/source/vector';\nimport LineString from 'ol/geom/linestring';\nimport Style from 'ol/style/style';\nimport proj from 'ol/proj';\n\nimport Fill from 'ol/style/fill';\nimport Stroke from 'ol/style/stroke';\nimport * as L from 'leaflet';\n@Component({\n  selector: 'app-map',\n  templateUrl: './map.component.html',\n  styleUrls: ['./map.component.css']\n})\nexport class MapComponent implements OnInit {\n  map: OlMap;\n  source: OlOSM;\n  layer: OlTileLayer;\n    view: OlView;\n    vectorLineLayer;\n    vectorSource;\n  srcNode;\n    trgNode;\n\n\n    constructor( private dataService: DataService, private _mapService: MapService){\n\n    }\n\n    ngOnInit(){\n        this.source = new OlOSM({\n            crossOrigin: null\n        });\n        this.layer = new OlTileLayer({\n            source: this.source\n        });\n        this.view = new OlView({\n            center: OlProj.fromLonLat([10.447, 51.165]),\n            zoom: 8\n        });\n            this.vectorSource = new Vector({});\n            this.vectorLineLayer = new OlVectorLayer({\n                source: this.vectorSource,\n                style: new Style({\n                    fill: new Fill({\n                        color: 'red',\n                        width: 1.2\n                    }),\n                    stroke: new Stroke({\n                        color: 'red',\n                        width: 3\n                    })\n                })\n            });\n        this.map = new OlMap({\n            target: 'map',\n            layers: [this.layer, this.vectorLineLayer],\n            view: this.view\n        });\n        // this.map = L.map('map').setView([51.163375,10.447683],5);\n        // this.map.addLayer(this._mapService.getLayer())\n\n\n    }\n    onClick(){\n        this.dataService.routeByNodeId(this.srcNode, this.trgNode , (res) =>{\n            console.log(\"test\");\n            var points = []\n            for (var elem of res.path){\n                points.push(OlProj.fromLonLat([Number(elem.lon), Number(elem.lat)]));\n            }\n            var lineString = new LineString(points);\n            var featureLine = new Feature({\n                geometry : lineString\n            });\n            console.log(featureLine);\n            this.vectorSource.addFeatures([featureLine]);\n        });\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/map/map.component.ts","import { Injectable } from '@angular/core';\nimport {HttpClient} from \"@angular/common/http\";\n\n@Injectable()\nexport class DataService {\n\n    constructor(private _http: HttpClient){\n\n\n\n    }\n\n    routeByNodeId(srcId, trgId, callback){\n       this._http.post('/routebynodeid', {\"srcNode\": srcId, \"trgNode\": trgId}, {responseType: 'json'}).subscribe((data) =>{\n           callback(data);\n       })\n   }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/data.service.ts","import { Injectable } from '@angular/core';\nimport * as L from 'leaflet'\n\n@Injectable()\nexport class MapService {\n    private Layer=L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {\n        attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n    });\n  constructor() { }\n    private lineStyle = {\n            \"color\": \"#ff7800\",\n            \"weight\": 5,\n            \"opacity\": 0.65\n    };\n\n    getLayer(){\n        return this.Layer\n    }\n\n    getLineStyle(){\n        return this.lineStyle\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/map.service.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts"],"sourceRoot":"webpack:///"}